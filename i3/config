########################################
# Autostart
########################################

# run with reload
exec_always --no-startup-id nitrogen --restore
exec_always --no-startup-id xrdb -load ~/.Xresources

# run on first start
exec --no-startup-id compton -b --config ~/.config/compton.conf 
#exec --no-startup-id ~/.config/polybar/launch.sh
exec --no-startup-id mpd ~/.config/mpd/mpd.conf
#exec --no-startup-id xfsettingsd

#exec --no-startup-id urxvt
#exec --no-startup-id urxvt -e ncmpcpp

# polkit, required for authentication
exec --no-startup-id /usr/lib/policykit-1-gnome/polkit-gnome-authentication-agent-1

# keyring for storing saved passwords
#exec --no-startup-id gnome-keyring-daemon --start --components=pkcs11

########################################
# Colors,borders and such.
########################################

# Xresources      var      value       fallback
set_from_resource $bg      background  #090909
set_from_resource $fg      foreground  #EDEDED
set_from_resource $black   color0      #070707
set_from_resource $red     color1      #D70005
set_from_resource $green   color2      #1CD915
set_from_resource $yellow  color3      #D9BD26
set_from_resource $blue    color4      #5665FF
set_from_resource $purple  color5      #B052DA
set_from_resource $cyan    color6      #50D2DA
set_from_resource $grey    color7      #E0E0E0

# class                 bd    bg  txt    ind   child_bd
client.focused          $grey $bg $fg    $blue $grey
client.unfocused        $grey $bg $black $bg   $bg
client.focused_inactive $grey $bg $black $bg   $bg
client.urgent           $red  $bg $red   $red  $red
client.placeholder      $grey $bg $bg    $bg   $bg
client.background       $bg

# font for window titles and i3 bar
font pango:Overpass Mono 10

# borders
new_window pixel 2
new_float pixel 2

# focus behavior
focus_follows_mouse no

# gaps
set $default_gaps_inner 12
set $default_gaps_outer 0
gaps inner $default_gaps_inner
gaps outer $default_gaps_outer

########################################
# Workspaces and its keybindings
########################################

# workspace names
set $ws1 I
set $ws2 II
set $ws3 III
set $ws4 IV
set $ws5 V
set $ws6 VI
set $ws7 VII
set $ws8 VIII
set $ws9 IX
set $ws10 X

# switch to workspace
bindsym $Mod+1 workspace $ws1
bindsym $Mod+2 workspace $ws2
bindsym $Mod+3 workspace $ws3
bindsym $Mod+4 workspace $ws4
bindsym $Mod+5 workspace $ws5
bindsym $Mod+6 workspace $ws6
bindsym $Mod+7 workspace $ws7
bindsym $Mod+8 workspace $ws8
bindsym $Mod+9 workspace $ws9
bindsym $Mod+0 workspace $ws10

# move focused container to workspace
bindsym $Mod+Shift+1 move container to workspace $ws1
bindsym $Mod+Shift+2 move container to workspace $ws2
bindsym $Mod+Shift+3 move container to workspace $ws3
bindsym $Mod+Shift+4 move container to workspace $ws4
bindsym $Mod+Shift+5 move container to workspace $ws5
bindsym $Mod+Shift+6 move container to workspace $ws6
bindsym $Mod+Shift+7 move container to workspace $ws7
bindsym $Mod+Shift+8 move container to workspace $ws8
bindsym $Mod+Shift+9 move container to workspace $ws9
bindsym $Mod+Shift+0 move container to workspace $ws10

# application specific workspace assignments
assign [class="(?i)(?:urxvt)"] $ws1
assign [class="(?i)(?:firefox)"] $ws2
assign [class="(?i)(?:sublime_text)"] $ws3
assign [class="(?i)(?:thunar)"] $ws4
assign [class="(?i)(?:vlc)"] $ws5
assign [class="(?i)(?:office)"] $ws6

########################################
# Application keybindings
########################################

# Modifier key, now set to super/windows key
set $Mod Mod4

# applications
bindsym $Mod+s exec --no-startup-id subl
bindsym $Mod+t exec exo-open --launch TerminalEmulator
bindsym $Mod+w exec exo-open --launch WebBrowser
bindsym $Mod+e exec exo-open --launch FileManager

# win+tab functionality with skippy-xd
bindsym $Mod+Tab exec --no-startup-id skippy-xd

# rofi, rofr, whatever.
bindsym $Mod+Ctrl+space exec --no-startup-id ~/.config/scripts/rofi-wrapper.sh -r
bindsym $Mod+l exec --no-startup-id ~/.config/scripts/rofi-wrapper.sh -p

# mouse + Modifier to drag flaoting windows
floating_modifier $Mod

# kill focused window
bindsym $Mod+q kill

# reload and restart
bindsym $Mod+Shift+c reload
bindsym $Mod+Shift+r restart

########################################
# Window management keybindings
########################################

# change focus
bindsym $Mod+Left focus left
bindsym $Mod+Down focus down
bindsym $Mod+Up focus up
bindsym $Mod+Right focus right

# move focused window
bindsym $Mod+Shift+Left move left
bindsym $Mod+Shift+Down move down
bindsym $Mod+Shift+Up move up
bindsym $Mod+Shift+Right move right

# container layout splitting
bindsym $Mod+h split h
bindsym $Mod+v split v

# enter fullscreen mode on the focused window
bindsym $Mod+f fullscreen toggle

# toggle tiling / floating
bindsym $Mod+Shift+space floating toggle

########################################
# Extra window management stuff
########################################

# for specific applications
for_window [class="(?i)(?:qt5ct|pinentry)"] floating enable, focus
for_window [class="(?i)(?:termite|thunar)"] focus
for_window [class="(?i)(?:geany|firefox)"] focus
for_window [class="(?i)(?:nitrogen)"] floating enable

# for dialog buttons
for_window [title="(?i)(?:copying|deleting|moving)"] floating enable
for_window [window_role="(?i)(?:pop-up|setup)"] floating enable

# change between layouts
bindsym $Mod+Shift+t layout tabbed
bindsym $Mod+Shift+s layout stacking
bindsym $Mod+Shift+h layout toggle split
default_orientation horizontal

# change focus between tiling / floating windows
bindsym $Mod+space focus Mode_toggle
bindsym $Mod+p focus parent
bindsym $Mod+c focus child

Mode "resize" {

        bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt

        bindsym Return Mode "default"
        bindsym Escape Mode "default"
        bindsym $Mod+r Mode "default"
}

bindsym $Mod+r mode "resize"
